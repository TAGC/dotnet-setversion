language: csharp
dist: trusty
mono: none
dotnet: 2.0.0
branches:
  only:
  - master
script:
    - cd dotnet-setversion
    - dotnet restore
    - dotnet build
    - if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then dotnet pack -c Release -o artifacts/; fi
    - if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then dotnet nuget push --source https://www.nuget.org/api/v2/package --api-key $NUGET_APIKEY $(find artifacts -name "*.nupkg"); fi
